---
import BaseHead from "@/components/BaseHead.astro";
import paperTexture from "@/assets/paper-texture.jpg";

const { title, description } = Astro.props;
const { currentLocale } = Astro;
---

<!doctype html>
<html lang={currentLocale}>
    <head>
        <BaseHead title={title} description={description} />
        <style is:global>
            /* Modern CSS Reset */
            *,
            *::before,
            *::after {
                box-sizing: border-box;
            }

            * {
                margin: 0;
            }

            html {
                -webkit-text-size-adjust: 100%;
                text-size-adjust: 100%;
            }

            body {
                min-height: 100dvh;
                line-height: 1.5;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            img,
            picture,
            video,
            canvas,
            svg {
                display: block;
                max-width: 100%;
            }

            input,
            button,
            textarea,
            select {
                font: inherit;
            }

            p,
            h1,
            h2,
            h3,
            h4,
            h5,
            h6 {
                overflow-wrap: break-word;
            }
        </style>

        <style
            is:global
            define:vars={{ paperTexture: `url("${paperTexture.src}")` }}
        >
            @font-face {
                font-family: "Excalifont";
                src: url("../assets/fonts/Excalifont-Regular.woff2")
                    format("woff2");
                font-weight: normal;
                font-style: normal;
                font-display: swap;
            }

            @font-face {
                font-family: "Comic Shanns";
                src: url("../assets/fonts/comic-shanns.otf") format("opentype");
                font-weight: normal;
                font-style: normal;
                font-display: swap;
            }

            :root {
                --primary-bg: #fefefe;
                --primary-text: #444;
                --link-color: #549eff;
                --paper-opacity: 0.8;
            }

            html {
                font-family: "Comic Shanns", cursive, sans-serif;
            }

            body {
                line-height: 1.6;
                font-size: 18px;
                padding-inline: 10px;
                background-color: var(--primary-bg);
                color: var(--primary-text);
                position: relative;
                display: grid;
                place-items: center;
            }

            body::before {
                content: "";
                position: absolute;
                inset: 0;
                background-image: var(--paperTexture);
                background-repeat: repeat;
                /* opacity: var(--paper-opacity); */
                pointer-events: none;
                z-index: -1;
            }

            html.dark {
                --primary-bg: #222;
                --primary-text: #eee;
                --paper-opacity: 0;
                --accent-blue: #549eff;

                & body::before {
                    filter: invert(1);
                }
            }

            html.dark a {
                color: var(--link-color);
            }

            h1 {
                font-size: 2.5rem;
                margin: 0 0 1rem 0;
                font-weight: bold;
                font-family: "Excalifont", sans-serif;
            }

            h2,
            h3,
            h4,
            h5,
            h6 {
                font-size: 1.5rem;
                font-family: "Excalifont", sans-serif;
                margin-bottom: 1rem;
            }

            p {
                text-wrap: balance;
            }

            .see-more {
                margin-top: auto;
                font-size: 0.9rem;
                color: var(--accent-blue);
                font-weight: bold;
                text-align: end;
                display: flex;
                justify-content: end;

                a {
                    text-decoration: none;
                }

                a:hover {
                    text-decoration: underline;
                    text-underline-offset: 3px;
                    text-decoration-thickness: 2px;
                }

                a::after {
                    content: " >";
                }
            }
        </style>

        <!-- Google tag (gtag.js) -->
        <script
            async
            src="https://www.googletagmanager.com/gtag/js?id=G-WJSJQ78QYQ"
        ></script>
        <script is:inline>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag("js", new Date());
            gtag("config", "G-WJSJQ78QYQ");
        </script>
    </head>
    <body>
        <slot />
    </body>
</html>
